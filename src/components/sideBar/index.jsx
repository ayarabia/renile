import React, { useEffect } from "react";
import { Link, useLocation } from "react-router-dom";
import logo from "../../assets/nojo.svg";
import rightArrow from "../../assets/right-arrow.svg";
import CustomeButton from "../customeButton";
const Sidebar = () => {
  const farmId = sessionStorage.getItem('farmId');
  const closeLinks=()=>{
    const style=""
    if(farmId===null){
      style = "disabled-link"
    }
    return style
  }
  // useEffect(()=>{
  //    closeLinks()
  // },[farmId])
  console.log(farmId);
  const location = useLocation();
  const menus = [
    {
      title: "Dashboard",
      path: "/dashboard",
      icon: (color) => {
        return (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="22"
            viewBox="0 0 22 22"
            fill="none"
          >
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M8.38652 4.61973C8.5518 4.60077 8.90618 4.56011 9.24535 4.704C9.52421 4.82231 9.76863 5.04344 9.91419 5.30909C10.0248 5.51105 10.059 5.70532 10.0724 5.85055C10.0835 5.97038 10.0834 6.10446 10.0833 6.21144C10.0833 6.21887 10.0833 6.22618 10.0833 6.23333V10.45C10.0833 10.9634 10.0833 11.2201 10.1832 11.4162C10.2711 11.5886 10.4114 11.7289 10.5838 11.8168C10.7799 11.9167 11.0366 11.9167 11.55 11.9167H15.7667C15.7738 11.9167 15.7811 11.9167 15.7886 11.9167C15.8955 11.9166 16.0296 11.9165 16.1494 11.9276C16.2947 11.941 16.4889 11.9752 16.6909 12.0858C16.9566 12.2314 17.1777 12.4758 17.296 12.7546C17.4399 13.0938 17.3992 13.4482 17.3803 13.6135C17.3784 13.6299 17.3767 13.6445 17.3754 13.657C17.2409 14.9977 16.7795 16.2895 16.0263 17.4168C15.1198 18.7735 13.8313 19.8309 12.3238 20.4553C10.8163 21.0798 9.15751 21.2431 7.55717 20.9248C5.95682 20.6065 4.48681 19.8207 3.33303 18.667C2.17925 17.5132 1.39351 16.0432 1.07518 14.4428C0.756854 12.8425 0.920231 11.1837 1.54465 9.6762C2.16908 8.1687 3.2265 6.88023 4.58321 5.97371C5.7105 5.22048 7.00233 4.75906 8.34301 4.62455C8.35551 4.62329 8.37008 4.62162 8.38652 4.61973Z"
              fill={color}
            />
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M13.6134 0.953048C13.6299 0.954934 13.6445 0.956606 13.657 0.957859C15.5425 1.14699 17.3151 1.98121 18.667 3.33304C20.0188 4.68486 20.853 6.45748 21.0421 8.34304C21.0434 8.35554 21.0451 8.37011 21.0469 8.38656C21.0659 8.55184 21.1066 8.90622 20.9627 9.24538C20.8443 9.52423 20.6232 9.76864 20.3576 9.9142C20.1556 10.0248 19.9613 10.059 19.8161 10.0724C19.6963 10.0835 19.5622 10.0834 19.4552 10.0833C19.4478 10.0833 19.4405 10.0833 19.4333 10.0833L13.5667 10.0833C13.5597 10.0833 13.5526 10.0833 13.5455 10.0833C13.4363 10.0834 13.3059 10.0834 13.191 10.074C13.0579 10.0632 12.8672 10.0353 12.6674 9.93347C12.4087 9.80164 12.1984 9.59129 12.0665 9.33257C11.9647 9.13279 11.9368 8.94213 11.926 8.80901C11.9166 8.69414 11.9166 8.56373 11.9167 8.45454C11.9167 8.44738 11.9167 8.44031 11.9167 8.43333V2.56667C11.9167 2.55951 11.9167 2.5522 11.9167 2.54477C11.9166 2.43779 11.9165 2.30371 11.9276 2.18388C11.941 2.03866 11.9751 1.84438 12.0858 1.64242C12.2313 1.37677 12.4758 1.15565 12.7546 1.03733C13.0938 0.893438 13.4482 0.934089 13.6134 0.953048Z"
              fill={color}
            />
          </svg>
        );
      },
    },
    {
      title: "Analytics",
      path: "/analytics/ammonia",
      icon: (color) => {
        return (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="22"
            viewBox="0 0 22 22"
            fill="none"
          >
            <path
              d="M16.352 20.1667H5.64804C5.16484 20.1667 4.74795 20.1667 4.4046 20.1387C4.0422 20.109 3.68175 20.0437 3.3349 19.8669C2.81746 19.6033 2.39676 19.1826 2.13311 18.6651C2.03917 18.4808 1.9767 18.2926 1.93433 18.1023C1.91132 17.999 1.89982 17.9473 1.90554 17.8779C1.91007 17.823 1.93098 17.7511 1.95665 17.7023C1.98903 17.6407 2.03509 17.5947 2.12721 17.5025L7.33337 12.2964L8.93165 13.8947C9.00882 13.9719 9.10101 14.0641 9.18886 14.1387C9.29068 14.2252 9.44523 14.3402 9.65848 14.4095C9.93464 14.4993 10.2321 14.4993 10.5083 14.4095C10.7215 14.3402 10.8761 14.2252 10.9779 14.1387C11.0657 14.0642 11.1579 13.9719 11.2351 13.8947L14.6667 10.463V11.9167C14.6667 12.4229 15.0771 12.8333 15.5834 12.8333C16.0896 12.8333 16.5 12.4229 16.5 11.9167V8.25001C16.5 7.74375 16.0896 7.33335 15.5834 7.33335H11.9167C11.4104 7.33335 11 7.74375 11 8.25001C11 8.75627 11.4104 9.16668 11.9167 9.16668H13.3703L10.0834 12.4537L8.48511 10.8554C8.40793 10.7781 8.31576 10.6859 8.22789 10.6113C8.12607 10.5249 7.97152 10.4098 7.75827 10.3405C7.48211 10.2508 7.18464 10.2508 6.90848 10.3405C6.69523 10.4098 6.54068 10.5249 6.43886 10.6113C6.35102 10.6859 6.25887 10.7781 6.1817 10.8553L3.08525 13.9518C2.69257 14.3444 2.49624 14.5408 2.32767 14.5541C2.18141 14.5656 2.03847 14.5064 1.94319 14.3948C1.83337 14.2662 1.83337 13.9886 1.83337 13.4332V5.64801C1.83336 5.16481 1.83335 4.74792 1.8614 4.40457C1.89101 4.04217 1.95638 3.68172 2.13311 3.33487C2.39676 2.81742 2.81746 2.39673 3.3349 2.13308C3.68175 1.95635 4.0422 1.89098 4.4046 1.86137C4.74795 1.83331 5.16481 1.83333 5.64802 1.83334H16.3521C16.8353 1.83333 17.2521 1.83331 17.5955 1.86137C17.9579 1.89098 18.3183 1.95635 18.6652 2.13308C19.1826 2.39673 19.6033 2.81742 19.867 3.33487C20.0437 3.68172 20.1091 4.04217 20.1387 4.40457C20.1667 4.74792 20.1667 5.16478 20.1667 5.64799V16.352C20.1667 16.8352 20.1667 17.2521 20.1387 17.5955C20.1091 17.9579 20.0437 18.3183 19.867 18.6651C19.6033 19.1826 19.1826 19.6033 18.6652 19.8669C18.3183 20.0437 17.9579 20.109 17.5955 20.1387C17.2521 20.1667 16.8352 20.1667 16.352 20.1667Z"
              fill={color}
            />
          </svg>
        );
      },
    },
    {
      title: "All Farms",
      path: "/",
      icon: (color) => {
        return (
          <svg
            xmlns="http://www.w3.org/2000/svg"
            id="Layer_1"
            data-name="Layer 1"
            viewBox="0 0 20 20"
            width="20"
            height="16"
          
          >
            <path d="M23,10v5c.552,0,1,.447,1,1s-.448,1-1,1H1c-.552,0-1-.447-1-1s.448-1,1-1v-5H7v5h2v-5h6v5h2v-5h6ZM1,8H23c.552,0,1-.447,1-1s-.448-1-1-1V2.996c0-.526-.213-1.042-.586-1.414l-1-1c-.779-.779-2.049-.779-2.828,0l-1,1c-.373,.372-.586,.888-.586,1.414v3.004h-2V2.996c0-.526-.213-1.042-.586-1.414l-1-1c-.779-.779-2.049-.779-2.828,0l-1,1c-.373,.372-.586,.888-.586,1.414v3.004h-2V2.996c0-.526-.213-1.042-.586-1.414l-1-1C4.635-.197,3.365-.197,2.586,.582L1.586,1.582c-.373,.372-.586,.888-.586,1.414v3.004c-.552,0-1,.447-1,1s.448,1,1,1Zm0,11v2.5c0,1.379,1.122,2.5,2.5,2.5h1c1.378,0,2.5-1.121,2.5-2.5v-2.5H1Zm8,0v2.5c0,1.379,1.122,2.5,2.5,2.5h1c1.378,0,2.5-1.121,2.5-2.5v-2.5h-6Zm8,0v2.5c0,1.379,1.122,2.5,2.5,2.5h1c1.378,0,2.5-1.121,2.5-2.5v-2.5h-6Z"      fill={color}/>
       
          </svg>
        );
      },
    },
  ];

  return (
    <div className="bg-white  text-white relative flex flex-col pb-9 ps-4 lg:ps-8 lg:pe-5">
      <img
        src={logo}
        alt="logo"
        className="block me-2  pt-[44px] mb-4 lg:mb-12 w-[90px] h-[90px] lg:w-[175px] lg:h-[105px]"
      />
      <ul className="mx-auto">
        {menus.map((item) => {
          return (
            <li
              className={`${
                location.pathname === item.path
                  ? "text-primary"
                  : "text-[#5E635A]"
              } flex items-center font-medium  text-sm mb-8 me-0`}
              key={item.title}
            >
              <Link to={item.path} className={`ms-3 me-[22px] flex ${location.pathname =="/" ? "":closeLinks}`}>
                <p>
                  {item.icon(
                    location.pathname === item.path ? "#589130" : "#5E635A"
                  )}
                </p>
                <p className="hidden lg:block ms-3"> {item.title}</p>
                <img
                src={rightArrow}
                alt="right-arrow"
                className={`${
                  location.pathname === item.path ? "block" : "hidden"
                } ms-4 `}
              />
              </Link>
              
            </li>
          );
        })}
      </ul>
      <div className="flex-grow"></div>
      <div className="sticky bottom-[19px] hidden lg:block">
        <div className="bg-farm bg-no-repeat shadow-6xl rounded-[20px] relative  h-[225px] bg-cover">
          <div className="bg-[#006665] font-medium text-xs w-full text-center pt-3 pb-4 px-3 absolute bottom-[50px]">
            <p className="mb-1">You can manage </p>
            <p>multiple farms here!</p>
          </div>
          <Link
            to="/createnewfarm"
            className="font-semibold text-base w-full text-white absolute rounded-b-[20px] bottom-0 bg-primary block px-[21px] py-4 text-center"
          >
            + Add Farm
          </Link>
        </div>
      </div>
      <div className="sticky bottom-[19px] lg:hidden">
        {/* <div className="bg-farm bg-no-repeat shadow-6xl rounded-[20px] relative  h-[225px]  bg-cover flex items-end"> */}
        {/* <CustomeButton to="/createnewfarm" text=" + Add Farm"    className="bg-primary  text-white w-full font-normal text-base "/>  */}
        <Link
          to="/createnewfarm"
          className="  lg:bg-primary text-primary text-start lg:text-white md:py-2 md:px-2 rounded-lg me-2 w-full font-normal text-base"
        >
          + Add Farm
        </Link>
        {/* </div> */}
      </div>
    </div>
  );
};

export default Sidebar;
